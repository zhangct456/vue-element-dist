{"version":3,"sources":["webpack:///./src/pages/WebLearn/Vue/VuexStore.md?5973","webpack:///./src/pages/WebLearn/Vue/VuexStore.md?d3fd","webpack:///./src/pages/WebLearn/Vue/VuexStore.md"],"names":["VuexStore","render","this","$createElement","_self","_c","_m","staticRenderFns","_vm","_h","_v","pre","attrs","v-pre","Component","__webpack_require__","normalizeComponent","__webpack_exports__","module","exports"],"mappings":"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","file":"static/js/10.c8307d93a51f38de6ba1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h2',[_vm._v(\"Vuex状态管理器\")]),_vm._v(\" \"),_c('h4',[_vm._v(\"安装\")]),_vm._v(\" \"),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"cnpm install vuex --save\\n\")])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('h4',[_vm._v(\"配置\")]),_vm._v(\" \"),_c('p',[_vm._v(\"创建文件夹\"),_c('code',{pre:true},[_vm._v(\"src/store\")]),_vm._v(\"用来放vuex相关的js文件；\")]),_vm._v(\" \"),_c('p',[_vm._v(\"创建文件\"),_c('code',{pre:true},[_vm._v(\"menu.js\")]),_vm._v(\"来管理菜单：\")]),_vm._v(\" \"),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"import axios from \\\"@/setting/axios.conf\\\"\\n//获取菜单内容的方法\\nimport {getSubMenu} from \\\"@/utils\\\"\\n\\nexport default {\\n\\tstate: {\\n\\t\\tmenuList: [],\\t\\t//菜单内容\\n\\t\\tfirstGet: true\\t\\t//判断是否是第一次获取菜单\\n\\t},\\n\\tgetters: {\\n\\t\\tgetMenuList(state) {\\n\\t\\t\\t//获取菜单\\n\\t\\t\\treturn state.menuList;\\n\\t\\t},\\n\\t\\tgetSubMenu(state) {\\n\\t\\t\\t//传入子菜单名key，获取子菜单\\n\\t\\t\\treturn function(key) {\\n\\t\\t\\t\\tif(state.menuList && state.menuList.length != 0) {\\n\\t\\t\\t\\t\\tfor(let i = 0; i < state.menuList.length; i++) {\\n\\t\\t\\t\\t\\t\\tif(state.menuList[i].name == key) {\\n\\t\\t\\t\\t\\t\\t\\treturn state.menuList[i];\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\treturn {};\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tmutations: {\\n\\t\\tupdateMenuList(state, menuList) {\\n\\t\\t\\tstate.menuList = menuList;\\n\\t\\t},\\n\\t\\tupdateFirstGet(state, firstGet) {\\n\\t\\t\\tstate.firstGet = firstGet;\\n\\t\\t}\\n\\t},\\n\\tactions: {\\n\\t\\tgetMenuList(context, reGetFlag) {\\n\\t\\t\\treturn new Promise(function(resolve, reject) {\\n\\t\\t\\t\\tif(!context.state.menuList || context.state.firstGet || reGetFlag) {\\n\\t\\t\\t\\t\\t//两种获取方式\\t\\n\\t\\t\\t\\t\\t//1发交易获取菜单\\n//\\t\\t\\t\\t\\taxios.post('menu.do', {}).then(function(data) {\\n//\\t\\t\\t\\t\\t\\tcontext.commit('updateFirstGet', false);\\n//\\t\\t\\t\\t\\t\\tcontext.commit('updateMenuList', data.List);\\n//\\t\\t\\t\\t\\t\\tresolve(context.state.menuList);\\n//\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t//2直接和router共用菜单\\n\\t\\t\\t\\t\\tlet menulist = getSubMenu();\\n\\t\\t\\t\\t\\tcontext.commit('updateFirstGet', false);\\n\\t\\t\\t\\t\\tcontext.commit('updateMenuList', menulist);\\n\\t\\t\\t\\t\\tresolve(context.state.menuList);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tresolve(context.state.menuList);\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t}\\n\\t}\\n}\\n\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"在\"),_c('code',{pre:true},[_vm._v(\"store/index.js\")]),_vm._v(\"中引入所有store对象，放进\"),_c('code',{pre:true},[_vm._v(\"modules\")]),_vm._v(\"：\")]),_vm._v(\" \"),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"import Vue from 'vue'\\nimport Vuex from 'vuex'\\n\\nimport Menu from \\\"./menu\\\"\\n\\nVue.use(Vuex);\\n\\nexport default new Vuex.Store({\\n  modules: {\\n    Menu\\n  }\\n})\\n\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"在\"),_c('code',{pre:true},[_vm._v(\"main.js\")]),_vm._v(\"中加载为全局组件：\")]),_vm._v(\" \"),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"...\\nimport store from './store'\\n\\nnew Vue({\\n  el: '#app',\\n  router,\\n  store,\\n  components: { App },\\n  template: '<App/>'\\n})\\n\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"之后用\"),_c('code',{pre:true},[_vm._v(\"this.$store\")]),_vm._v(\"调用：\")]),_vm._v(\" \"),_c('ul',[_c('li',[_c('code',{pre:true},[_vm._v(\"state\")]),_vm._v(\"：唯一数据源，调用时使用\"),_c('code',{pre:true},[_vm._v(\"this.$store.state.xxx\")])]),_vm._v(\" \"),_c('li',[_c('code',{pre:true},[_vm._v(\"getters\")]),_vm._v(\"：类似计算属性，getter的返回值会根据它的依赖被缓存起来，只有当它的依赖值发生了改变才会被重新计算，调用时使用\"),_c('code',{pre:true},[_vm._v(\"this.$store.getters.getSubMenu\")]),_vm._v(\"，如需传参返回值写成函数；\")]),_vm._v(\" \"),_c('li',[_c('code',{pre:true},[_vm._v(\"mutations\")]),_vm._v(\"：更改state的唯一方法，只能是同步函数，调用时用\"),_c('code',{pre:true},[_vm._v(\"this.$store.commit('xxx',xxx)\")])]),_vm._v(\" \"),_c('li',[_c('code',{pre:true},[_vm._v(\"actions\")]),_vm._v(\"：不直接更改状态，接受一个与 store 实例具有相同方法和属性的 context 对象，通过调用\"),_c('code',{pre:true},[_vm._v(\"context.commit\")]),_vm._v(\"更改\"),_c('code',{pre:true},[_vm._v(\"state\")]),_vm._v(\"，支持异步操作\")])]),_vm._v(\" \"),_c('blockquote',[_c('p',[_vm._v(\"mutations 中的方法是不分组件的 , 假如你在 dialog_stroe.js 文件中的定义了switch_dialog 方法 ,\\n在其他文件中的一个 switch_dialog 方法 ,\\n那么$store.commit('switch_dialog') 会执行所有的 switch_dialog 方法。\")])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('h4',[_vm._v(\"调用getters\")]),_vm._v(\" \"),_c('p',[_vm._v(\"在需要调用的组件里写对应的计算属性：\")]),_vm._v(\" \"),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"...\\n\\tcomputed: {\\n\\t\\tmenu() {\\n\\t\\t\\treturn this.$store.getters.getMenuList;\\n\\t\\t},\\n\\t\\tsubMenu() {\\n\\t\\t\\tlet menu = this.$store.getters.getSubMenu(this.subMenuName);\\n\\t\\t\\treturn menu.children;\\n\\t\\t}\\n\\t},\\n...\\n\")])]),_vm._v(\" \"),_c('p',[_c('code',{pre:true},[_vm._v(\"this.$store.getters.getMenuList\")]),_vm._v(\"返回一个数组；\")]),_vm._v(\" \"),_c('p',[_c('code',{pre:true},[_vm._v(\"this.$store.getters.getSubMenu\")]),_vm._v(\"返回一个方法，所以能传入参数获取结果。\")]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('h4',[_vm._v(\"调用actions\")]),_vm._v(\" \"),_c('p',[_vm._v(\"调用\"),_c('code',{pre:true},[_vm._v(\"getMenuList\")]),_vm._v(\"异步获取菜单，返回一个Promise对象：\")]),_vm._v(\" \"),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"this.$store.dispatch('getMenuList').then(function(data){\\n\\t...\\n})\\n\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1abd2d88\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./node_modules/_vue-markdown-loader@2.4.1@vue-markdown-loader/lib/markdown-compiler.js?raw!./src/pages/WebLearn/Vue/VuexStore.md\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1abd2d88\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!../../../../node_modules/_vue-markdown-loader@2.4.1@vue-markdown-loader/lib/markdown-compiler.js?raw!./VuexStore.md\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader!./node_modules/_vue-markdown-loader@2.4.1@vue-markdown-loader/lib/markdown-compiler.js?raw!./src/pages/WebLearn/Vue/VuexStore.md\n// module id = null\n// module chunks = ","module.exports = require(\"!!vue-loader!../../../../node_modules/_vue-markdown-loader@2.4.1@vue-markdown-loader/lib/markdown-compiler.js?raw!./VuexStore.md\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/WebLearn/Vue/VuexStore.md\n// module id = r76S\n// module chunks = 10"],"sourceRoot":""}